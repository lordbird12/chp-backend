<!-- <style>
  thead,
  th {
      border: 1px solid #dddddd;
      color: #fff;
      font-size: 18px;
      font-weight: bold;
      text-align: center;
      background-color: #06a6d6;
  }

  td {
      border: 1px solid #dddddd;
  }
</style> -->
<div class="app-content page-body">
    <div class="container-fluid">
        <!--Page header-->
        <div class="page-header">
            <div class="page-leftheader">
                <h4 class="page-title">จัดการสิทธิประโยชน์ส่งเสริมป้องกันโรค / กลุ่มบริการ</h4>
            </div>
            <div class="page-rightheader ml-auto d-lg-flex d-none">
            </div>
        </div>
        <!--End Page header-->
        <form [formGroup]="eventsForm" (ngSubmit)="onSubmit()">

            <div class="row">
                <div class="col-lg-12 col-md-12">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">ข้อมูลกิจกรรม</h3>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-lg-4 col-md-12">
                                    <div class="form-group row">
                                        <label class="col-md-3 form-label">กิจกรรมหลัก:</label>
                                        <div class="col-md-9">
                                            <mat-select formControlName="service_id" class="form-control">
                                                <mat-option *ngFor="let service of ServiceData" [value]="service.id">
                                                    {{service.name}}</mat-option>
                                            </mat-select>
                                            
                                        </div>
                                    </div>
                                </div>
                                <!-- <div class="col-lg-12 col-md-6">
                                    <div class="form-group row">
                                        <div class="table-responsive">
                                            <table class="table card-table table-vcenter text-nowrap mb-0">
                                                <thead>
                                                    <tr>
                                                        <th width="30%">กิจกรรมสำคัญที่จะได้รับ</th>

                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let service of ServiceData" [value]="service.id" >
                                                        <td>
                                                            {{service.name}}
                                                        </td>


                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div> -->
                                <div class="col-lg-12 col-md-12">
                                    <div class="form-group row">
                                        <label class="col-md-3 form-label">กิจกรรมสำคัญที่จะได้รับ
                                        </label>
                                        <div class="table-responsive">
                                            <table class="table card-table table-vcenter text-nowrap mb-0"
                                                formArrayName="event">
                                                <thead>
                                                    <tr>
                                                        <th>ลำดับ</th>
                                                        <th width="30%">กิจกรรมสำคัญที่จะได้รับ</th>
                                                        <th width="30%">ความถี่</th>
                                                        <th width="10%">เบิกได้/ปี</th>
                                                        <th width="20%">หมายเหตุ</th>
                                                        <th>จัดการ</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <th colspan="5"></th>
                                                        <th width="150px">
                                                            <button type="button" 
                                                            (click)="addEvent()"
                                                            class="btn btn-primary">
                                                                เพิ่ม
                                                            </button>
                                                        </th>
                                                    </tr>
                                                    <tr *ngFor="depo; of: event().controls; let i = index" [formGroupName]="i">
                                                        <th scope="row">{{ i + 1 }}</th>
                                                        <td>
                                                            <input type="text" 
                                                            formControlName="name"
                                                            class="form-control"
                                                            placeholder="กิจกรรมสำคัญที่จะได้รับ" />
                                                        </td>
                                                        <td>
                                                            <div>
                                                                <mat-select formControlName="seq"
                                                                class="form-control">
                                                                    <mat-option *ngFor="let service of SeqData"
                                                                        [value]="service.name">
                                                                        {{service.name}}
                                                                    </mat-option>
                                                                </mat-select>
                                                            </div>
                                                        </td>
                                                        <td>
                                                            <input type="text"
                                                            formControlName="use_per_year"
                                                            class="form-control" placeholder="เบิกได้ / ปี" />
                                                        </td>
                                                        <td>
                                                            <input
                                                            type="text"
                                                            formControlName="remark"
                                                            class="form-control"
                                                            placeholder="หมายเหตุ" />
                                                        </td>
                                                        <td>
                                                            <button 
                                                            (click)="removeEvent(i)" 
                                                            class="btn btn-danger">
                                                                ลบ
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 col-md-12 text-center">
                                    <div class="form-group mb-0 mt-4 row justify-content-end">
                                        <div class="col-md-12">
                                            <button type="submit" class="btn btn-success">
                                                บันทึก
                                            </button>
                                            &nbsp;
                                            <!-- <button type="reset" class="btn btn-secondary">
                                                    ล้างข้อมูล
                                                </button> -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Row -->
        </form>
    </div>
</div>
<!-- end app-content-->